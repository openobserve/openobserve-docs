<!-- Newsletter Form -->
<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<footer class="relative bg-[#121212] w-full">
  <!-- Background SVG -->
  <svg
    class="absolute inset-0 w-full h-full"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 1221 684"
    fill="none"
  >
    <g filter="url(#filter0_f_1434_1855)">
      <circle
        cx="610.5"
        cy="610.5"
        r="410.5"
        fill="url(#paint0_radial_1434_1855)"
      />
    </g>
    <defs>
      <filter
        id="filter0_f_1434_1855"
        x="0"
        y="0"
        width="1221"
        height="1221"
        filterUnits="userSpaceOnUse"
        color-interpolation-filters="sRGB"
      >
        <feFlood flood-opacity="0" result="BackgroundImageFix" />
        <feBlend
          mode="normal"
          in="SourceGraphic"
          in2="BackgroundImageFix"
          result="shape"
        />
        <feGaussianBlur
          stdDeviation="100"
          result="effect1_foregroundBlur_1434_1855"
        />
      </filter>
      <radialGradient
        id="paint0_radial_1434_1855"
        cx="0"
        cy="0"
        r="1"
        gradientUnits="userSpaceOnUse"
        gradientTransform="translate(610.5 610.5) rotate(90) scale(410.5)"
      >
        <stop offset="0.01" stop-color="#23282C" />
        <stop offset="0.885" stop-color="#23282C" stop-opacity="0" />
      </radialGradient>
    </defs>
  </svg>

  <div class="relative container mx-auto px-4 py-10 lg:px-8 xl:px-12">
    <div class="flex flex-col lg:flex-row gap-6">
      <!-- Footer Grid -->
      <div
        id="footer-columns"
        class="w-full lg:w-[75%] grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6"
      ></div>

      <!-- Newsletter -->
      <div class="rounded-lg text-center mx-auto">
        <form id="newsletter-form" name="newsletter" novalidate>
          <h2 class="text-white font-medium text-lg mb-2 relative inline-block">
            Stay Updated
            <span
              class="absolute bottom-[-5px] left-0 w-full h-0.5 bg-white block"
            ></span>
          </h2>
          <p class="text-gray-300 text-sm transition duration-300 mb-6">
            Get the latest OpenObserve insights
          </p>

          <div class="flex flex-col gap-2.5 mb-4">
            <div
              class="text-xs rounded-full border border-[#4a90e2] text-left !text-white caret-white"
            >
              <input
                type="email"
                name="email"
                id="newsletter-email"
                placeholder="Enter your email"
                required
                aria-label="Email address"
                class="flex-1 px-4 py-2 w-full rounded-full bg-transparent !text-white caret-white outline-none placeholder-[rgba(255,255,255,0.6)]"
              />
            </div>
            <div
              id="newsletter-error"
              class="text-left ml-2 text-red-400 text-sm hidden"
            ></div>
            <div
              class="px-6 py-2 rounded-full bg-[#7782FF] text-white text-sm font-medium hover:bg-[#6672fa]"
            >
              <button
                type="submit"
                id="newsletter-submit"
                class="transition active:scale-98 w-full cursor-pointer"
              >
                Subscribe
              </button>
            </div>
          </div>

          <p class="text-xs text-[rgba(255,255,255,0.6)]">
            By subscribing, you agree to receive product related updates.
          </p>
        </form>
        <div
          id="newsletter-toast"
          class="fixed bottom-5 right-2 transform bg-[#7782FF] text-white p-6 rounded-lg shadow-lg z-50 hidden transition-opacity duration-300"
        ></div>
      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const form = document.getElementById("newsletter-form");
          const emailInput = document.getElementById("newsletter-email");
          const emailError = document.getElementById("newsletter-error");
          const toast = document.getElementById("newsletter-toast");
          const subscribeBtn = document.getElementById("newsletter-submit");

          function showToast(message) {
            toast.textContent = message;
            toast.classList.remove("hidden");
            toast.style.opacity = "1";
            setTimeout(() => {
              toast.style.opacity = "0";
              setTimeout(() => toast.classList.add("hidden"), 300);
            }, 3000);
          }

          function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
          }

          form.addEventListener("submit", function (e) {
            e.preventDefault();
            emailError.classList.add("hidden");
            subscribeBtn.disabled = true;

            const email = emailInput.value.trim();
            if (!validateEmail(email)) {
              emailError.textContent = "Invalid email address";
              emailError.classList.remove("hidden");
              subscribeBtn.disabled = false;
              return;
            }

            // Send API request to Formspree demo endpoint
            fetch("https://formspree.io/f/mqkrjvay", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email }),
            })
              .then((response) => {
                if (response.ok) {
                  showToast("Subscribed successfully with: " + email);
                  form.reset();
                  // Segment tracking
                  if (window.analytics && typeof window.analytics.track === "function") {
                    window.analytics.track("O2 Website - Newsletter Signup", {
                      email: email,
                      source: "website"
                    });
                  }
                } else {
                  showToast("Something went wrong, please try again.");
                }
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                  event: "newsletter_form_submit",
                  form_id: form.id,
                  form_name: form.name,
                  form_status: response.ok ? "success" : "error",
                  page_location: window.location.href,
                });
              })
              .catch(() => {
                showToast("Something went wrong, please try again.");
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                  event: "newsletter_form_submit",
                  form_id: form.id,
                  form_name: form.name,
                  form_status: "error",
                  page_location: window.location.href,
                });
              })
              .finally(() => {
                subscribeBtn.disabled = false;
              });
          });
        });
      </script>
    </div>

    <!-- Toast -->
    <div
      id="newsletter-toast"
      class="fixed bottom-5 right-2 transform bg-[#7782FF] text-white p-6 rounded-lg shadow-lg z-50 hidden transition-opacity duration-300"
    ></div>

    <div class="flex justify-center lg:justify-end">
      <div class="flex items-center gap-4">
        <div class="w-12 h-12 flex-shrink-0 grayscale">
          <img
            src="/docs/assets/soc.webp"
            class="w-full h-full object-contain"
            alt="Official AICPA SOC badge"
            loading="lazy"
            width="48"
            height="48"
          />
        </div>

        <div class="flex flex-col text-white">
          <h2 class="whitespace-nowrap text-sm">SOC2 Type II</h2>
          <p class="whitespace-nowrap text-xs">Certified</p>
        </div>
        <div class="flex flex-wrap justify-center md:justify-start gap-2">
          <a
            class="github-button"
            href="https://github.com/openobserve/openobserve"
            data-color-scheme="light"
            data-size="large"
            data-show-count="true"
            aria-label="Star openobserve/openobserve on GitHub"
          >
            Star
          </a>
        </div>
      </div>
    </div>
    <!-- <div>
      <section class="hero-gradient w-full rounded-md">
        <div
          class="flex flex-col md:flex-row md:items-start lg:items-center md:justify-between gap-4 p-2"
        >
          <div
            class="flex flex-col lg:flex-row w-full text-white gap-1 md:gap-1 lg:gap-4"
          >
            <div
              class="flex flex-col md:flex-row md:items-center gap-1 md:gap-3 lg:gap-4"
            >
              <div
                class="flex items-center gap-2 text-xs font-semibold text-yellow-300"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="w-5 h-5 md:w-4 md:h-4 shrink-0"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"
                  />
                </svg>
                Upcoming Webinar
              </div>

              <h2
                class="font-bold text-white text-xs md:font-semibold md:text-white md:mt-0 md:max-w-fit"
              >
                From Zero to Observability in 30 Minutes
              </h2>
            </div>

            <div class="flex gap-4 text-xs md:flex-row md:gap-2">
              <div class="flex items-center gap-2 text-white/90">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="w-5 h-5 md:w-4 md:h-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v11a2 2 0 002 2z"
                  />
                </svg>
                July 29, 2025
              </div>

              <div class="flex items-center gap-2 text-white/90">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="w-5 h-5 md:w-4 md:h-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                01:30 AM ET
              </div>
            </div>
          </div>

          <div class="flex flex-col text-blue-600 text-xs">
            <a
              href="/webinars-videos/zero-to-observability-in-30-minutes/"
              target="_blank"
              class="ring-offset-background focus-visible:outline-none focus-visible:ring-ring inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0 h-6 md:h-7 bg-white  hover:bg-blue-50 font-semibold px-3 py-1 shadow-lg hover:shadow-xl transition-all duration-300 group cursor-pointer"
            >
              Register Now
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-arrow-right ml-1 w-4 h-4 transition-transform duration-200 transform group-hover:translate-x-1"
              >
                <path d="M5 12h14"></path>
                <path d="m12 5 7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>
      </section>
    </div> -->
    <!-- Bottom Footer -->
    <div
      class="border-t border-gray-700 mt-10 pt-5 flex flex-col lg:flex-row justify-between items-center text-white gap-4"
    >
      <div class="text-center text-xs lg:text-left">
        <p class="">OpenObserve Inc. © <span id="current-year"></span></p>
        <p>3000 Sand Hill Rd Building 1, Suite 260, Menlo Park, CA 94025</p>
      </div>
      <ul class="flex flex-wrap gap-4 text-xs text-gray-300">
        <li class="hover:text-[#7782FF]">
          <a href="/policies/terms-of-service/" target="_blank"
            >Terms of Service</a
          >
        </li>
        <li class="hover:text-[#7782FF]">
          <a href="/policies/privacy-policy/" target="_blank">Privacy Policy</a>
        </li>
      </ul>
      <ul class="flex gap-2">
        <li
          class="p-2 rounded-lg transition-all duration-200 hover:bg-white hover:bg-opacity-10"
        >
          <a href="https://short.openobserve.ai/community" target="_blank">
            <img
              src="/docs/assets/slack-icon.svg"
              alt="slack"
              class="w-5 h-5"
            />
          </a>
        </li>
        <li
          class="p-2 rounded-lg transition-all duration-200 hover:bg-white hover:bg-opacity-10"
        >
          <a href="https://twitter.com/OpenObserve" target="_blank">
            <img
              src="/docs/assets/twitter-icon.svg"
              alt="twitter"
              class="w-5 h-5"
            />
          </a>
        </li>
        <li
          class="p-2 rounded-lg transition-all duration-200 hover:bg-white hover:bg-opacity-10"
        >
          <a
            href="https://www.linkedin.com/company/openobserve"
            target="_blank"
          >
            <img
              src="/docs/assets/linkdin-icon.svg"
              alt="linkedin"
              class="w-5 h-5"
            />
          </a>
        </li>
        <li
          class="p-2 rounded-lg transition-all duration-200 hover:bg-white hover:bg-opacity-10"
        >
          <a href="https://github.com/openobserve/openobserve" target="_blank">
            <img
              src="/docs/assets/github-icon.svg"
              alt="github"
              class="w-5 h-5"
            />
          </a>
        </li>
        <li
          class="p-2 rounded-lg transition-all duration-200 hover:bg-white hover:bg-opacity-10"
        >
          <a href="https://www.youtube.com/@openobserve" target="_blank">
            <img
              src="/docs/assets/youtube-icon.svg"
              alt="youtube"
              class="w-5 h-5"
            />
          </a>
        </li>
      </ul>
    </div>
  </div>

  <script>
    function loadGitHubButtonScript() {
      // Remove existing script if present
      const oldScript = document.getElementById("github-bjs");
      if (oldScript) oldScript.remove();

      // Add GitHub button script
      const script = document.createElement("script");
      script.id = "github-bjs";
      script.async = true;
      script.defer = true;
      script.src = "https://buttons.github.io/buttons.js";
      document.body.appendChild(script);
    }

    // Initial load
    loadGitHubButtonScript();

    // For MkDocs Material instant navigation
    if (typeof document$ !== "undefined") {
      document$.subscribe(() => {
        loadGitHubButtonScript();
      });
    }
    function renderFooterColumns() {
      const container = document.getElementById("footer-columns");
      if (!container || container.children.length > 0) return;

      const footerData = [
        {
          title: "Platform",
          items: [
            { text: "Logs", link: "/logs/" },
            { text: "Metrics", link: "/metrics/" },
            { text: "Traces", link: "/traces/" },
            { text: "Frontend Monitoring", link: "/frontend-monitoring/" },
            { text: "Pipelines", link: "/pipelines/" },
            { text: "Alerts", link: "/alerts/" },
            {
              text: "Visualizations & Dashboard",
              link: "/visualization-and-dashboards/",
            },
            { text: "Pricing", link: "/pricing/" },
          ],
        },
        {
          title: "Solutions",
          items: [
            { text: "Azure Monitoring", link: "/azure-monitoring/" },
            { text: "AWS Monitoring", link: "/aws-monitoring/" },
            { text: "GCP Monitoring", link: "/gcp-monitoring/" },
            { text: "Kubernetes Monitoring", link: "/kubernetes-monitoring/" },
            { text: "Database Monitoring", link: "/database-monitoring/" },
            { text: "OpenTelemetry", link: "/opentelemetry/" },
          ],
        },
        {
          title: "Resources",
          items: [
            { text: "Documentation", link: "/docs", target: "_blank" },
            { text: "Blog", link: "/blog/" },
            { text: "FAQs", link: "/faqs/" },
            { text: "Articles", link: "/articles/" },
            { text: "Customer Stories", link: "/customer-stories/" },
            { text: "Downloads", link: "/downloads/" },
            { text: "Webinar and Videos", link: "/webinars-videos/" },
            { text: "Events", link: "/events/" },
          ],
        },
        {
          title: "Company",
          items: [
            { text: "About", link: "/about/" },
            { text: "Careers", link: "/careers/" },
            { text: "Contact Us", link: "/contact-us/" },
            { text: "Contact Sales", link: "/contact-sales/" },
            { text: "Enterprise License", link: "/enterprise-license/" },
          ],
        },
      ];

      footerData.forEach((section) => {
        const column = document.createElement("div");
        column.innerHTML = `
          <h2 class="text-white font-medium text-base mb-3">${
            section.title
          }</h2>
          <ul class="space-y-2 text-gray-300 text-xs">
            ${section.items
              .map(
                (item) => `<li class="hover:text-[#7782FF]">
                  <a href="${item.link}" target="${item.target || ""}">${
                  item.text
                }</a>
                </li>`
              )
              .join("")}
          </ul>
        `;
        container.appendChild(column);
      });

      document.getElementById("current-year").textContent =
        new Date().getFullYear();
    }

    if (typeof document$ !== "undefined") {
      // For MkDocs Material instant navigation
      document$.subscribe(() => {
        renderFooterColumns();
      });
    } else {
      // For standard full page load
      document.addEventListener("DOMContentLoaded", () => {
        renderFooterColumns();
      });
    }
  </script>
</footer>
