<!-- Newsletter Form -->
<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<footer class="tw-relative tw-bg-[#121212] tw-w-full">
  <!-- Background SVG -->
  <svg
    class="tw-absolute tw-inset-0 tw-w-full tw-h-full"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 1221 684"
    fill="none"
  >
    <g filter="url(#filter0_f_1434_1855)">
      <circle
        cx="610.5"
        cy="610.5"
        r="410.5"
        fill="url(#paint0_radial_1434_1855)"
      />
    </g>
    <defs>
      <filter
        id="filter0_f_1434_1855"
        x="0"
        y="0"
        width="1221"
        height="1221"
        filterUnits="userSpaceOnUse"
        color-interpolation-filters="sRGB"
      >
        <feFlood flood-opacity="0" result="BackgroundImageFix" />
        <feBlend
          mode="normal"
          in="SourceGraphic"
          in2="BackgroundImageFix"
          result="shape"
        />
        <feGaussianBlur
          stdDeviation="100"
          result="effect1_foregroundBlur_1434_1855"
        />
      </filter>
      <radialGradient
        id="paint0_radial_1434_1855"
        cx="0"
        cy="0"
        r="1"
        gradientUnits="userSpaceOnUse"
        gradientTransform="translate(610.5 610.5) rotate(90) scale(410.5)"
      >
        <stop offset="0.01" stop-color="#23282C" />
        <stop offset="0.885" stop-color="#23282C" stop-opacity="0" />
      </radialGradient>
    </defs>
  </svg>

  <div
    class="tw-relative tw-container tw-mx-auto tw-px-4 tw-py-10 lg:tw-px-8 xl:tw-px-12"
  >
    <div class="tw-flex tw-flex-col lg:tw-flex-row tw-gap-6">
      <!-- Footer Grid -->
      <div
        id="footer-columns"
        class="tw-w-full lg:tw-w-[75%] tw-grid tw-grid-cols-2 sm:tw-grid-cols-3 lg:tw-grid-cols-4 tw-gap-6"
      ></div>

      <!-- Newsletter -->
      <div class="tw-rounded-lg tw-text-center tw-mx-auto">
        <form id="newsletter-form" name="newsletter" novalidate>
          <div
            class="tw-text-white tw-font-medium tw-text-lg tw-mb-2 tw-relative tw-inline-block"
          >
            Stay Updated
            <span
              class="tw-absolute tw-bottom-[-5px] tw-left-0 tw-w-full tw-h-0.5 tw-bg-white tw-block"
            ></span>
          </div>
          <p
            class="tw-text-gray-300 tw-text-sm tw-transition tw-duration-300 tw-mb-6"
          >
            Get the latest OpenObserve insights
          </p>

          <div class="tw-flex tw-flex-col tw-gap-2.5 tw-mb-4">
            <div
              class="tw-text-xs tw-rounded-full tw-border tw-border-[#4a90e2] tw-text-left !tw-text-white tw-caret-white"
            >
              <input
                type="email"
                name="email"
                id="newsletter-email"
                placeholder="Enter your email"
                required
                aria-label="Email address"
                class="tw-flex-1 tw-px-4 tw-py-2 tw-w-full tw-rounded-full tw-bg-transparent !tw-text-white tw-caret-white tw-outline-none tw-placeholder-[rgba(255,255,255,0.6)]"
              />
            </div>
            <div
              id="newsletter-error"
              class="tw-text-left tw-ml-2 tw-text-red-400 tw-text-sm tw-hidden"
            ></div>
            <div
              class="tw-px-6 tw-py-2 tw-rounded-full tw-bg-[#7782FF] tw-text-white tw-text-sm tw-font-medium hover:tw-bg-[#6672fa]"
            >
              <button
                type="submit"
                id="newsletter-submit"
                class="tw-transition active:tw-scale-98 tw-w-full tw-cursor-pointer"
              >
                Subscribe
              </button>
            </div>
          </div>

          <p class="tw-text-xs tw-text-[rgba(255,255,255,0.6)]">
            By subscribing, you agree to receive product and marketing related
            updates from OpenObserve.
          </p>
        </form>
        <div
          id="newsletter-toast"
          class="tw-fixed tw-bottom-5 tw-right-2 tw-transform tw-bg-[#7782FF] tw-text-white tw-p-6 tw-rounded-lg tw-shadow-lg tw-z-50 tw-hidden tw-transition-opacity tw-duration-300"
        ></div>
      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const form = document.getElementById("newsletter-form");
          const emailInput = document.getElementById("newsletter-email");
          const emailError = document.getElementById("newsletter-error");
          const toast = document.getElementById("newsletter-toast");
          const subscribeBtn = document.getElementById("newsletter-submit");

          function showToast(message) {
            toast.textContent = message;
            toast.classList.remove("hidden");
            toast.style.opacity = "1";
            setTimeout(() => {
              toast.style.opacity = "0";
              setTimeout(() => toast.classList.add("hidden"), 300);
            }, 3000);
          }

          function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
          }

          form.addEventListener("submit", function (e) {
            e.preventDefault();
            emailError.classList.add("hidden");
            subscribeBtn.disabled = true;

            const email = emailInput.value.trim();
            if (!validateEmail(email)) {
              emailError.textContent = "Invalid email address";
              emailError.classList.remove("hidden");
              subscribeBtn.disabled = false;
              return;
            }

            // Send API request to Formspree demo endpoint
            fetch("https://formspree.io/f/mqkrjvay", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email }),
            })
              .then((response) => {
                if (response.ok) {
                  showToast("Subscribed successfully with: " + email);
                  form.reset();
                  // Segment tracking
                  if (
                    window.analytics &&
                    typeof window.analytics.track === "function"
                  ) {
                    window.analytics.track("O2 Website - Newsletter Signup", {
                      email: email,
                      source: "website",
                    });
                  }
                } else {
                  showToast("Something went wrong, please try again.");
                }
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                  event: "newsletter_form_submit",
                  form_id: form.id,
                  form_name: form.name,
                  form_status: response.ok ? "success" : "error",
                  page_location: window.location.href,
                });
              })
              .catch(() => {
                showToast("Something went wrong, please try again.");
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                  event: "newsletter_form_submit",
                  form_id: form.id,
                  form_name: form.name,
                  form_status: "error",
                  page_location: window.location.href,
                });
              })
              .finally(() => {
                subscribeBtn.disabled = false;
              });
          });
        });
      </script>
    </div>

    <!-- Toast -->
    <div
      id="newsletter-toast"
      class="tw-fixed tw-bottom-5 tw-right-2 tw-transform tw-bg-[#7782FF] tw-text-white tw-p-6 tw-rounded-lg tw-shadow-lg tw-z-50 tw-hidden tw-transition-opacity tw-duration-300"
    ></div>

    <div class="tw-flex tw-justify-center lg:tw-justify-end">
      <div class="tw-flex tw-items-center tw-gap-4">
        <div class="tw-w-12 tw-h-12 tw-flex-shrink-0 tw-grayscale">
          <img
            src="/docs/assets/soc.webp"
            class="tw-w-full tw-h-full tw-object-contain"
            alt="Official AICPA SOC badge"
            loading="lazy"
            width="48"
            height="48"
          />
        </div>

        <div class="tw-flex tw-flex-col tw-text-white">
          <p class="tw-whitespace-nowrap tw-text-sm">SOC2 Type II</p>
          <p class="tw-whitespace-nowrap tw-text-xs">Certified</p>
        </div>
        <div
          class="tw-flex tw-flex-wrap tw-justify-center md:tw-justify-start tw-gap-2"
        >
          <a
            class="github-button"
            href="https://github.com/openobserve/openobserve"
            data-color-scheme="light"
            data-size="large"
            data-show-count="true"
            aria-label="Star openobserve/openobserve on GitHub"
          >
            Star
          </a>
        </div>
      </div>
    </div>
    <!-- <div>
      <section class="tw-hero-gradient tw-w-full tw-rounded-md">
        <div
          class="tw-flex tw-flex-col md:tw-flex-row md:tw-items-start lg:tw-items-center md:tw-justify-between tw-gap-4 tw-p-2"
        >
          <div
            class="tw-flex tw-flex-col lg:tw-flex-row tw-w-full tw-text-white tw-gap-1 md:tw-gap-1 lg:tw-gap-4"
          >
            <div
              class="tw-flex tw-flex-col md:tw-flex-row md:tw-items-center tw-gap-1 md:tw-gap-3 lg:tw-gap-4"
            >
              <div
                class="tw-flex tw-items-center tw-gap-2 tw-text-xs tw-font-semibold tw-text-yellow-300"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="tw-w-5 tw-h-5 md:tw-w-4 md:tw-h-4 tw-shrink-0"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"
                  />
                </svg>
                Upcoming Webinar
              </div>

              <h2
                class="tw-font-bold tw-text-white tw-text-xs md:tw-font-semibold md:tw-text-white md:tw-mt-0 md:tw-max-w-fit"
              >
                From Zero to Observability in 30 Minutes
              </h2>
            </div>

            <div class="tw-flex tw-gap-4 tw-text-xs md:tw-flex-row md:tw-gap-2">
              <div class="tw-flex tw-items-center tw-gap-2 tw-text-white/90">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="tw-w-5 tw-h-5 md:tw-w-4 md:tw-h-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v11a2 2 0 002 2z"
                  />
                </svg>
                July 29, 2025
              </div>

              <div class="tw-flex tw-items-center tw-gap-2 tw-text-white/90">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="tw-w-5 tw-h-5 md:tw-w-4 md:tw-h-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                01:30 AM ET
              </div>
            </div>
          </div>

          <div class="tw-flex tw-flex-col tw-text-blue-600 tw-text-xs">
            <a
              href="/webinars-videos/zero-to-observability-in-30-minutes/"
              target="_blank"
              class="tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-ring tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-whitespace-nowrap tw-rounded-md focus-visible:tw-ring-2 focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 [&_svg]:tw-size-4 [&_svg]:tw-shrink-0 tw-h-6 md:tw-h-7 tw-bg-white hover:tw-bg-blue-50 tw-font-semibold tw-px-3 tw-py-1 tw-shadow-lg hover:tw-shadow-xl tw-transition-all tw-duration-300 group tw-cursor-pointer"
            >
              Register Now
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-arrow-right tw-ml-1 tw-w-4 tw-h-4 tw-transition-transform tw-duration-200 tw-transform group-hover:tw-translate-x-1"
              >
                <path d="M5 12h14"></path>
                <path d="m12 5 7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>
      </section>
    </div> -->
    <!-- Bottom Footer -->
    <div
      class="tw-border-t tw-border-gray-700 tw-mt-5 tw-pt-5 tw-flex tw-flex-col lg:tw-flex-row tw-justify-between tw-items-center tw-text-white tw-gap-4"
    >
      <div class="tw-text-center tw-text-xs lg:tw-text-left">
        <p class="tw-text-white">
          OpenObserve Inc. Â© <span id="current-year"></span>
        </p>
        <p>3000 Sand Hill Rd Building 1, Suite 260, Menlo Park, CA 94025</p>
      </div>
      <ul class="tw-flex tw-flex-wrap tw-gap-4 tw-text-xs tw-text-gray-300">
        <li class="hover:tw-text-[#7782FF]">
          <a href="/policies/terms-of-service/" target="_blank"
            >Terms of Service</a
          >
        </li>
        <li class="hover:tw-text-[#7782FF]">
          <a href="/policies/privacy-policy/" target="_blank">Privacy Policy</a>
        </li>
      </ul>
      <ul class="tw-flex tw-gap-2">
        <li
          class="tw-p-2 tw-rounded-lg tw-transition-all tw-duration-200 hover:tw-bg-white hover:tw-bg-opacity-10"
        >
          <a href="https://short.openobserve.ai/community" target="_blank">
            <img
              src="/docs/assets/slack-icon.svg"
              alt="slack"
              class="tw-w-5 tw-h-5"
            />
          </a>
        </li>
        <li
          class="tw-p-2 tw-rounded-lg tw-transition-all tw-duration-200 hover:tw-bg-white hover:tw-bg-opacity-10"
        >
          <a href="https://twitter.com/OpenObserve" target="_blank">
            <img
              src="/docs/assets/twitter-icon.svg"
              alt="twitter"
              class="tw-w-5 tw-h-5"
            />
          </a>
        </li>
        <li
          class="tw-p-2 tw-rounded-lg tw-transition-all tw-duration-200 hover:tw-bg-white hover:tw-bg-opacity-10"
        >
          <a
            href="https://www.linkedin.com/company/openobserve"
            target="_blank"
          >
            <img
              src="/docs/assets/linkdin-icon.svg"
              alt="linkedin"
              class="tw-w-5 tw-h-5"
            />
          </a>
        </li>
        <li
          class="tw-p-2 tw-rounded-lg tw-transition-all tw-duration-200 hover:tw-bg-white hover:tw-bg-opacity-10"
        >
          <a href="https://github.com/openobserve/openobserve" target="_blank">
            <img
              src="/docs/assets/github-dark.svg"
              alt="github"
              class="tw-w-5 tw-h-5"
            />
          </a>
        </li>
        <li
          class="tw-p-2 tw-rounded-lg tw-transition-all tw-duration-200 hover:tw-bg-white hover:tw-bg-opacity-10"
        >
          <a href="https://www.youtube.com/@openobserve" target="_blank">
            <img
              src="/docs/assets/youtube-icon.svg"
              alt="youtube"
              class="tw-w-5 tw-h-5"
            />
          </a>
        </li>
      </ul>
    </div>
  </div>

  <script>
    function loadGitHubButtonScript() {
      // Remove existing script if present
      const oldScript = document.getElementById("github-bjs");
      if (oldScript) oldScript.remove();

      // Add GitHub button script
      const script = document.createElement("script");
      script.id = "github-bjs";
      script.async = true;
      script.defer = true;
      script.src = "https://buttons.github.io/buttons.js";
      document.body.appendChild(script);
    }

    // Initial load
    loadGitHubButtonScript();

    // For MkDocs Material instant navigation
    if (typeof document$ !== "undefined") {
      document$.subscribe(() => {
        loadGitHubButtonScript();
      });
    }
    function renderFooterColumns() {
      const container = document.getElementById("footer-columns");
      if (!container || container.children.length > 0) return;

      const footerData = [
        {
          title: "Platform",
          items: [
            { text: "Logs", link: "/logs/" },
            { text: "Metrics", link: "/metrics/" },
            { text: "Traces", link: "/traces/" },
            { text: "Frontend Monitoring", link: "/frontend-monitoring/" },
            { text: "Pipelines", link: "/pipelines/" },
            { text: "Alerts", link: "/alerts/" },
            {
              text: "Visualizations & Dashboard",
              link: "/visualization-and-dashboards/",
            },
            { text: "Pricing", link: "/pricing/" },
          ],
        },
        {
          title: "Solutions",
          items: [
            { text: "Azure Monitoring", link: "/azure-monitoring/" },
            { text: "AWS Monitoring", link: "/aws-monitoring/" },
            { text: "GCP Monitoring", link: "/gcp-monitoring/" },
            { text: "Kubernetes Monitoring", link: "/kubernetes-monitoring/" },
            { text: "Database Monitoring", link: "/database-monitoring/" },
            { text: "OpenTelemetry", link: "/opentelemetry/" },
          ],
        },
        {
          title: "Resources",
          items: [
            { text: "Documentation", link: "/docs", target: "_blank" },
            { text: "Blog", link: "/blog/" },
            { text: "FAQs", link: "/faqs/" },
            { text: "Articles", link: "/articles/" },
            { text: "Customer Stories", link: "/customer-stories/" },
            { text: "Downloads", link: "/downloads/" },
            { text: "Webinar and Videos", link: "/webinars-videos/" },
            { text: "Events", link: "/events/" },
          ],
        },
        {
          title: "Company",
          items: [
            { text: "About", link: "/about/" },
            { text: "Careers", link: "/careers/" },
            { text: "Contact Us", link: "/contact-us/" },
            { text: "Contact Sales", link: "/contact-sales/" },
            { text: "Enterprise License", link: "/enterprise-license/" },
          ],
        },
      ];

      footerData.forEach((section) => {
        const column = document.createElement("div");
        column.innerHTML = `
          <div class="tw-text-white tw-font-medium tw-text-base tw-mb-3">${section.title}</div>
          <ul class="tw-space-y-2 tw-text-gray-300 tw-text-xs">
            ${section.items
              .map(
                (item) => `<li class="hover:tw-text-[#7782FF]">
                  <a href="${item.link}" target="${item.target || ""}">${
                  item.text
                }</a>
                </li>`
              )
              .join("")}
          </ul>
        `;
        container.appendChild(column);
      });

      document.getElementById("current-year").textContent =
        new Date().getFullYear();
    }

    if (typeof document$ !== "undefined") {
      // For MkDocs Material instant navigation
      document$.subscribe(() => {
        renderFooterColumns();
      });
    } else {
      // For standard full page load
      document.addEventListener("DOMContentLoaded", () => {
        renderFooterColumns();
      });
    }
  </script>
</footer>
