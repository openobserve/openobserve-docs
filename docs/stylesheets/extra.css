/* Enhanced theme management and transitions */
:root {
  --theme-transition-duration: 200ms;
}

/* Ensure theme colors are properly applied to both html and body */
html[data-md-color-scheme="default"],
body[data-md-color-scheme="default"] {
  --md-default-bg-color: #ffffff;
  --md-default-fg-color: #000000;
}

html[data-md-color-scheme="slate"],
body[data-md-color-scheme="slate"] {
  --md-default-bg-color: #212121;
  --md-default-fg-color: #ffffff;
}

/* Smooth transitions for theme changes */
html, body, 
.md-header, .md-main, .md-footer, .md-sidebar,
.md-nav, .md-content, .md-typeset {
  transition: 
    background-color var(--theme-transition-duration) ease,
    color var(--theme-transition-duration) ease,
    border-color var(--theme-transition-duration) ease !important;
}

/* Prevent transition flicker during theme switching */
html[data-md-color-switching] *,
html[data-md-color-switching] *::before,
html[data-md-color-switching] *::after {
  transition-duration: 0ms !important;
}

/* Theme toggle button improvements */
.md-header__option form[data-md-component="palette"] {
  position: relative;
  z-index: 1000;
}

/* Ensure theme toggle button is always clickable and visible */
.md-header__option .md-header__button.md-icon {
  cursor: pointer !important;
  pointer-events: auto !important;
  z-index: 1001 !important;
  position: relative !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Fix theme toggle state visibility */
.md-option:checked + .md-header__button {
  display: block !important;
}

/* Force theme toggle visibility */
.md-header__option form[data-md-component="palette"] .md-header__button {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure proper color scheme application */
[data-md-color-scheme="default"] {
  --md-primary-fg-color: #ffffff;
  --md-primary-fg-color--light: #ECB7B7;
  --md-primary-fg-color--dark: #90030C;
}

@media only screen and (min-width: 76.25em) {
  .md-main__inner {
    max-width: none;
  }

  .md-sidebar--primary {
    left: 0;
  }

  .md-sidebar--secondary {
    right: 0;
    margin-left: 0;
    -webkit-transform: none;
    transform: none;
  }
}

.md-typeset code {
  color: #ef5552;
}

html {
  font-size: 125%;
}
/* --- Sidebar overlap fix --------------------------------------------------
   Issue: Bottom of left navigation sidebar links were being hidden by a white
   overlay/section when scrolling the page body. In Material for MkDocs this
   is commonly caused by the main content (or footer) layering above the
   sidebar, or by the sidebar losing its own scroll context causing the fade
   pseudo-element to cover final items.

   Fix:
   1. Reassert a dedicated scroll container + full height for primary sidebar.
   2. Remove bottom/top gradient (pseudo elements) that can mask final items.
   3. Raise z-index so main content/footer can't visually overlap it.
   4. Provide stable scrollbar to avoid layout shift.
*/
@media (min-width: 60em) {
  /* Minimal, non-intrusive adjustments */
  .md-sidebar--primary {
  position: sticky; /* stay visible */
  top: 0; /* eliminate excess gap */
  height: 100vh; /* occupy full viewport */
  z-index: 200;
  display: flex;
  flex-direction: column;
  }
  .md-footer { z-index: 0; }
  /* Give room so last items can scroll fully into view */
  .md-sidebar--primary .md-sidebar__scrollwrap {
  flex: 1;
  overflow-y: auto;
  padding: 0.25rem 0 2.25rem; /* trim top, moderate bottom */
  overscroll-behavior: contain;
  }
  /* Remove bottom fade/overlay that appeared as white block */
  .md-sidebar--primary .md-sidebar__scrollwrap:after {
    display: none !important;
  }
  /* Also disable any other potential masking pseudo-elements */
  .md-sidebar--primary:before,
  .md-sidebar--primary:after,
  .md-sidebar--primary .md-sidebar__inner:before,
  .md-sidebar--primary .md-sidebar__inner:after { display: none !important; }
  /* Tighter default nav spacing */
  .md-sidebar--primary .md-nav { margin-top: 0; }
  .md-sidebar--primary .md-nav__list { padding-bottom: 0; }
  /* Ensure main/content layers don't cover sidebar */
  .md-main, .md-main__inner, .md-content, .md-content__inner { position: relative; z-index: 0; }
}

/* Enhanced search bar visibility for all themes */
[data-md-color-scheme="slate"] .md-search__form {
  background-color: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 4px !important;
}

[data-md-color-scheme="slate"] .md-search__input {
  background-color: transparent !important;
  color: #ffffff !important;
}

[data-md-color-scheme="slate"] .md-search__input::placeholder {
  color: rgba(255, 255, 255, 0.6) !important;
}

[data-md-color-scheme="slate"] .md-search__icon {
  color: rgba(255, 255, 255, 0.7) !important;
}

/* Ensure default theme search visibility */
[data-md-color-scheme="default"] .md-search__form {
  background-color: rgba(0, 0, 0, 0.05) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  border-radius: 4px !important;
}

[data-md-color-scheme="default"] .md-search__input {
  background-color: transparent !important;
  color: #000000 !important;
}

[data-md-color-scheme="default"] .md-search__input::placeholder {
  color: rgba(0, 0, 0, 0.6) !important;
}

[data-md-color-scheme="default"] .md-search__icon {
  color: rgba(0, 0, 0, 0.7) !important;
}

